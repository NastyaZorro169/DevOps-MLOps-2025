# Terraform Project for Yandex Cloud with S3 Backend

## Описание проекта
Этот проект содержит конфигурацию Terraform для создания инфраструктуры в Yandex Cloud с использованием S3-совместимого backend для хранения состояния.  
Проект автоматизирует развёртывание ресурсов и позволяет удобно управлять инфраструктурой.

---

## Описание структуры проекта и назначение файлов
---
```
Terraform/
├── README.md
├── cloud-init.tpl.yaml
├── main.tf
├── modules/
│ └── s3/
│ ├── main.tf
│ ├── outputs.tf
│ ├── variables.tf
│ └── versions.tf
├── nametest/
├── terraform.tfvars
└── variables.tf
```
---

### Файлы и папки

- **cloud-init.tpl.yaml**  
  Шаблон конфигурации cloud-init, который используется для автоматической настройки виртуальных машин при их создании.

- **main.tf**  
  Основной файл конфигурации Terraform, где описываются ресурсы, провайдеры и другие ключевые настройки инфраструктуры.

- **modules/**  
  Папка с модулями Terraform — переиспользуемыми блоками конфигурации.

  - **modules/s3/**  
    Модуль для работы с S3-совместимым хранилищем (например, Yandex Object Storage).  
    Содержит:  
    - `main.tf` — описание ресурсов модуля (бакеты, политики и т.п.)  
    - `outputs.tf` — выходные переменные модуля, которые можно использовать снаружи  
    - `variables.tf` — входные переменные модуля для параметризации  
    - `versions.tf` — ограничения версий Terraform и провайдеров для данного модуля
  
- **terraform.tfvars**  
  Файл с конкретными значениями переменных Terraform, который используется для задания параметров конфигурации (например, имена ресурсов, регионы). Обычно содержит настройки, специфичные для окружения.

- **variables.tf**  
  Определение переменных, используемых в конфигурации Terraform. Здесь задаются типы, описания и значения по умолчанию для переменных.

---

## Требования
- Установленный Terraform (рекомендуется версия 1.0 и выше)
- Аккаунт и доступы в Yandex Cloud
- Настроенный S3-совместимый backend (например, Yandex Object Storage) для хранения состояния
- sa-key.json, где хранятся ваши ключи для доступа

---

## Как запустить проект

1. Перейдите в папку с Terraform-конфигурацией:

```
cd terraform
```

2. Инициализируйте Terraform (скачает провайдеры и настроит backend):

```
terraform init
```

3. Проверьте план развертывания:

```
terraform plan
```

4. Примените конфигурацию для создания ресурсов:

```
terraform apply
```

5. Для удаления созданных ресурсов выполните:

```
terraform destroy
```